{"version":3,"sources":["a-global.js","b-header.js","c-sliders.js","d-parallax-scroll.js","i-file.js","n-modal.js","o-bg.js","p-product.js","01_main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9cA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../components/main.min.js","sourcesContent":["$(\"._tab\").click(function() {\r\n    let parentBlock = $(this).parents(\"._tabs-parent\")\r\n    let tabId = $(this).attr(\"data-tab\")\r\n    $(parentBlock).find(\"._tab\").removeClass(\"_active\")\r\n    $(this).addClass(\"_active\")\r\n    $(parentBlock).find(\".tab-content\").removeClass(\"_active\")\r\n    $(parentBlock).find(`.${tabId}`).addClass(\"_active\")\r\n})\r\n\r\n$(\"._show-quiz-result\").click(function () {\r\n    $(this).parents(\".quiz\").addClass(\"_show-results\")\r\n})\r\n","$(\"._toggle-menu\").click(function () {\r\n    $(\".header\").toggleClass(\"_open\")\r\n    $(\"body\").toggleClass(\"fixed-body\")\r\n})\r\n\r\n$(\".menu-item-has-children>a\").click(function () {\r\n    $(this).parents(\".menu-item-has-children\").toggleClass(\"_open\")\r\n    $(this).siblings(\".sub-menu\").slideToggle()\r\n})\r\n\r\n","function Sliders() {\r\n    let SlidersArray = []\r\n\r\n    let sliders = document.querySelectorAll(\".slider\")\r\n    sliders.forEach((slider,index) => {\r\n        slider.setAttribute(\"data-slider-id\",index)\r\n\r\n        SlidersArray[index] = new Swiper(`.slider[data-slider-id=\"${index}\"] .swiper-container`, {\r\n            slidesPerView: \"auto\",\r\n            spaceBetween: 0,\r\n            watchSlidesProgress: true,\r\n            preventClicks :true,\r\n            a11y: false,\r\n            observer: true,\r\n            observeParents: true,\r\n            observeSlideChildren: true,\r\n\r\n            navigation: {\r\n                nextEl: `.slider[data-slider-id=\"${index}\"] .swiper-button-next`,\r\n                prevEl: `.slider[data-slider-id=\"${index}\"] .swiper-button-prev`,\r\n            },\r\n            pagination: {\r\n                el: `.slider[data-slider-id=\"${index}\"] .swiper-pagination`,\r\n                type: 'bullets',\r\n                clickable: true,\r\n            },\r\n        })\r\n    })\r\n}\r\n\r\nfunction gallery() {\r\n    let SlidersArray = []\r\n\r\n    let sliders = document.querySelectorAll(\".gallery\")\r\n    sliders.forEach((slider,index) => {\r\n        slider.setAttribute(\"data-slider-id\",index)\r\n        let gallery = {\r\n            mySwiper: {},\r\n            mySwiper2: {}\r\n        }\r\n\r\n        gallery.mySwiper = new Swiper(`.gallery[data-slider-id=\"${index}\"] .mySwiper`, {\r\n            spaceBetween: 0,\r\n            slidesPerView: \"auto\",\r\n            freeMode: true,\r\n            watchSlidesProgress: true,\r\n        });\r\n        gallery.mySwiper2 = new Swiper(`.gallery[data-slider-id=\"${index}\"] .mySwiper2`, {\r\n            spaceBetween: 0,\r\n            loop: true,\r\n            effect: \"fade\",\r\n            fadeEffect: {\r\n                crossFade: true\r\n            },\r\n            thumbs: {\r\n                swiper:  gallery.mySwiper,\r\n            },\r\n        });\r\n\r\n        SlidersArray[index] = gallery\r\n    })\r\n\r\n}\r\n\r\n\r\nSliders()\r\ngallery()\r\n","if (window.innerWidth >= 500) {\r\n    // document.body.classList.add('');\r\n\r\n    const sectionSlides = document.querySelectorAll('section.slide:not(.benten)');\r\n\r\n    for (let i = 0; i < sectionSlides.length; i++) {\r\n        // sectionSlides[i].style.paddingTop = parseInt(getComputedStyle(sectionSlides[i]).paddingTop) + 60 + 'px';\r\n        // sectionSlides[i].style.top = '30px';\r\n    }\r\n}\r\n\r\n$(\".product__next\").click(function () {\r\n    nextSlide()\r\n})\r\n\r\nfunction openSmeta(smetaN) {\r\n    if (!$('.options-' + smetaN).is(':hidden')) {\r\n        $('.options').slideUp();\r\n        $('.smeta-item-head').removeClass('active');\r\n        $('.smeta-item').removeClass('active');\r\n        $('.smeta-' + smetaN).find('.smeta-opener').text('Открыть пункт');\r\n    } else {\r\n        $('.smeta-item-head').removeClass('active');\r\n        $('.smeta-item').removeClass('active');\r\n        $('.smeta-' + smetaN).addClass('active');\r\n        $('.options').slideUp();\r\n        $('.options-' + smetaN).slideDown();\r\n        $('.options-' + smetaN).parents(\".smeta-item\").addClass('active');\r\n        $('.smeta-' + smetaN).find('.smeta-opener').text('Закрыть пункт');\r\n    }\r\n}\r\n\r\nvar timeStart = 0;\r\n\r\nfunction wheely(e) {\r\n    var y = e.originalEvent.deltaY;\r\n    var timeStop = new Date().getTime();\r\n    var timeDiff = timeStop - timeStart;\r\n    if (timeDiff > 200) {\r\n        if (y > 0) {\r\n            nextSlide();\r\n        }\r\n        if (y < 0) {\r\n            prevSlide();\r\n        }\r\n    }\r\n    timeStart = timeStop;\r\n\r\n    let video = document.querySelector(\".we-build__video video\")\r\n    if(video){\r\n        if($(\".we-build\").hasClass(\"parallax-active\")){\r\n            video.addEventListener('click',function(){\r\n                video.play();\r\n            },false);\r\n            video.click();\r\n        }else{\r\n            video.pause()\r\n        }\r\n    }\r\n\r\n    let video2 = document.querySelector(\".recommendation__video video\")\r\n    if(video2){\r\n        if($(\".home-calc\").hasClass(\"parallax-active\")){\r\n            video2.addEventListener('click',function(){\r\n                video2.play();\r\n            },false);\r\n            video2.click();\r\n        }else{\r\n            video2.pause()\r\n        }\r\n    }\r\n\r\n    let video3 = document.querySelector(\".channel_first__video video\")\r\n    if(video3){\r\n        if($(\".channel\").hasClass(\"parallax-active\")){\r\n            video3.addEventListener('click',function(){\r\n                video3.play();\r\n            },false);\r\n            video3.click();\r\n        }else{\r\n            video3.pause()\r\n        }\r\n    }\r\n    // if (document.querySelector('.second_screen').classList.contains('parallax-active')) {\r\n    // document.querySelector('#video_what_build').play();\r\n    // } else {\r\n    // document.querySelector('#video_what_build').pause();\r\n    // }\r\n\r\n    // if (document.querySelector('.completeset').classList.contains('parallax-active')) {\r\n    // document.querySelector('.completeset__info-image').play();\r\n    // } else {\r\n    // document.querySelector('.completeset__info-image').pause();\r\n    // }\r\n}\r\n\r\nfunction prevSlide() {\r\n    if ($(\".parallax-active\").is(\":first-child\")) {\r\n        if (!$(\".parallax-slider\").hasClass(\"dragging\")) {\r\n            $(\".slide:first-child\").addClass(\"bounce\");\r\n            setTimeout(function() {\r\n                $(\".slide:first-child\").removeClass(\"bounce\");\r\n            }, 300);\r\n        }\r\n    } else {\r\n        $(\".parallax-active\")\r\n            .removeClass(\"parallax-active\")\r\n            .addClass(\"queue\")\r\n            .prev()\r\n            .removeClass(\"prev\")\r\n            .addClass(\"parallax-active\");\r\n    }\r\n\r\n    setActiveTab()\r\n\r\n    // if (document.querySelector(\".section_first_screen.parallax-active\")) {\r\n    //     document.querySelector('header').classList.remove('active');\r\n    // } else {\r\n    //     document.querySelector('header').classList.add('active');\r\n    // }\r\n    //\r\n    // if (document.querySelector('.completeset').classList.contains('parallax-active')) {\r\n    //     document.querySelector('.completeset__info-image').play();\r\n    // } else {\r\n    //     document.querySelector('.completeset__info-image').pause();\r\n    // }\r\n}\r\n\r\nfunction nextSlide() {\r\n    if ($(\".parallax-active\").is(\":last-child\")) {\r\n        if (!$(\".parallax-slider\").hasClass(\"dragging\")) {\r\n            $(\".slide:last-child\").addClass(\"bounce\");\r\n            setTimeout(function() {\r\n                $(\".slide:last-child\").removeClass(\"bounce\");\r\n            }, 300);\r\n        }\r\n    } else {\r\n        $(\".parallax-active\")\r\n            .removeClass(\"parallax-active\")\r\n            .addClass(\"prev\")\r\n            .next()\r\n            .removeClass(\"queue\")\r\n            .addClass(\"parallax-active\");\r\n    }\r\n\r\n    if (document.querySelector(\".section_first_screen.parallax-active\")) {\r\n        document.querySelector('header').classList.remove('active');\r\n    } else {\r\n        document.querySelector('header').classList.add('active');\r\n    }\r\n\r\n    setActiveTab()\r\n}\r\n\r\nfunction hotkeys(e) {\r\n    if (e.keyCode == 38) {\r\n        prevSlide();\r\n    }\r\n\r\n    if (e.keyCode == 40) {\r\n        e.preventDefault();\r\n        nextSlide();\r\n    }\r\n}\r\n\r\nfunction dragStart(e) {\r\n    e.preventDefault();\r\n    if (e.type == \"touchstart\") {\r\n        $(document).off(\"mousedown\", dragStart);\r\n        startPoint = e.originalEvent.touches[0].pageY;\r\n    } else {\r\n        startPoint = e.pageY;\r\n    }\r\n    dragDist = 0;\r\n    $(document).on(\"touchmove mousemove\", dragMove);\r\n}\r\n\r\nfunction dragMove(e) {\r\n    if (e.type == \"touchmove\") {\r\n        var movePoint = e.originalEvent.touches[0].pageY;\r\n    } else {\r\n        var movePoint = e.pageY;\r\n    }\r\n    dragDist = ((movePoint - startPoint) / $(\".parallax-slider\").height()) * 100;\r\n\r\n    $(\".parallax-slider\").addClass(\"dragging\");\r\n\r\n    $(\".slide, .bg\").css({\r\n        transition: \"0ms\",\r\n    });\r\n\r\n    if (window.innerWidth >= 500) {\r\n        if (dragDist < 0) {\r\n            $(\".parallax-active .bg\").css({\r\n                opacity: 1 + dragDist / 200,\r\n            });\r\n            $(\".active\")\r\n                .css({\r\n                    transform: \"translate3d(0,\" + dragDist / 2 + \"%,0)\",\r\n                })\r\n                .next()\r\n                .css({\r\n                    transform: \"translate3d(0,\" + (100 + dragDist) + \"%,0)\",\r\n                });\r\n        }\r\n    }\r\n\r\n    if (window.innerWidth >= 500) {\r\n        if (dragDist > 0) {\r\n            $(\".parallax-active\")\r\n                .css({\r\n                    transform: \"translate3d(0,\" + dragDist + \"%,0)\",\r\n                })\r\n                .prev()\r\n                .css({\r\n                    animation: \"none\",\r\n                    transform: \"translate3d(0,\" + (-50 + dragDist / 2) + \"%,0)\",\r\n                })\r\n                .find(\".bg\")\r\n                .css({\r\n                    opacity: 0.5 + dragDist / 200,\r\n                });\r\n        }\r\n    }\r\n}\r\n\r\nfunction dragEnd() {\r\n    $(document).off(\"touchmove mousemove\", dragMove);\r\n    $(\".slide, .bg\").removeAttr(\"style\");\r\n    if (dragDist > 20) {\r\n        prevSlide();\r\n    }\r\n    if (dragDist < -20) {\r\n        nextSlide();\r\n    }\r\n\r\n    setTimeout(function() {\r\n        $(\".parallax-slider\").removeClass(\"dragging\");\r\n    }, 800);\r\n}\r\n\r\n$(document).on(\"wheel\", wheely);\r\n$(document).on(\"keydown\", hotkeys);\r\n$(document).on(\"touchstart\", dragStart);\r\n$(document).on(\"touchend\", dragEnd);\r\n\r\n\r\n$(document).on('click', '.smeta-item-head', function(e) {\r\n    console.log('открытие сметы');\r\n    console.log(e.target.tagName)\r\n    if (e.target.tagName === 'INPUT') {} else {\r\n        var smetaN = $(this).attr('data-smeta');\r\n\r\n        openSmeta(smetaN);\r\n\r\n        $(document).off(\"wheel\", wheely);\r\n        $(document).off(\"keydown\", hotkeys);\r\n        $(document).off(\"touchstart mousedown\", dragStart);\r\n        $(document).off(\"touchend\", dragEnd);\r\n        $('.estimate').css({\r\n            overflowY: 'auto',\r\n            // paddingTop: '60px'\r\n        });\r\n\r\n        $(\".estimate\").scroll(function() {\r\n            var element = $(this);\r\n            if ($(element).scrollTop() + $(element).innerHeight() >= element[0].scrollHeight) {\r\n                $('.estimate').css({\r\n                    overflowY: 'hidden',\r\n                    top: '0px'\r\n                });\r\n                $('.open-table').text('Раскрыть смету');\r\n\r\n                const sectionSlides = document.querySelectorAll('section.slide:not(.benten)');\r\n\r\n                for (let i = 0; i < sectionSlides.length; i++) {\r\n                    // sectionSlides[i].style.paddingTop = parseInt(getComputedStyle(sectionSlides[i]).paddingTop) + 60 + 'px';\r\n                    sectionSlides[i].style.top = '60px';\r\n                }\r\n\r\n                $(document).on(\"wheel\", wheely);\r\n                $(document).on(\"keydown\", hotkeys);\r\n                $(document).on(\"touchstart mousedown\", dragStart);\r\n                $(document).on(\"touchend mouseup\", dragEnd);\r\n\r\n                $('.options').slideUp(500);\r\n                $('.smeta-item-head').removeClass('active');\r\n                opened = 1;\r\n\r\n                console.log('its working');\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    return false;\r\n});\r\n\r\nfunction openSm() {\r\n    $(document).off(\"wheel\", wheely);\r\n    $(document).off(\"keydown\", hotkeys);\r\n    $(document).off(\"touchstart mousedown\", dragStart);\r\n    $(document).off(\"touchend\", dragEnd);\r\n    $('.estimate').css({\r\n        overflowY: 'auto',\r\n        // paddingTop: '60px'\r\n    });\r\n\r\n\r\n    $(\".estimate\").scroll(function() {\r\n        var element = $(this);\r\n        if (element.scrollTop() + element.innerHeight() >= element[0].scrollHeight) {\r\n            $('.estimate').css({\r\n                overflowY: 'hidden',\r\n                top: '0px'\r\n            });\r\n            $('.open-table').text('Раскрыть смету');\r\n\r\n            const sectionSlides = document.querySelectorAll('section.slide:not(.benten)');\r\n\r\n            for (let i = 0; i < sectionSlides.length; i++) {\r\n                // sectionSlides[i].style.paddingTop = parseInt(getComputedStyle(sectionSlides[i]).paddingTop) + 60 + 'px';\r\n                sectionSlides[i].style.top = '60px';\r\n            }\r\n\r\n            $(document).on(\"wheel\", wheely);\r\n            $(document).on(\"keydown\", hotkeys);\r\n            $(document).on(\"touchstart mousedown\", dragStart);\r\n            $(document).on(\"touchend mouseup\", dragEnd);\r\n\r\n            $('.options').slideUp(500);\r\n            $('.smeta-item-head').removeClass('active');\r\n            opened = 1;\r\n\r\n            console.log('its working');\r\n        }\r\n    });\r\n\r\n}\r\n\r\n$('.open-table').on('click', openSm);\r\n$(document).on('click', '.smeta-item-head', function(event) {\r\n    var $input = $(this).find('input');\r\n    var isExpanded = $(this).hasClass('active');\r\n\r\n    if (!$(event.target).is('input')) {\r\n        if (isExpanded) {\r\n            // Действия при закрытии элемента\r\n            $(this).removeClass('active');\r\n            $(document).off(\"wheel\", wheely);\r\n            $(document).off(\"keydown\", hotkeys);\r\n            $(document).off(\"touchstart mousedown\", dragStart);\r\n            $(document).off(\"touchend mouseup\", dragEnd);\r\n            $('.estimate').css({\r\n                overflowY: 'auto',\r\n                top: '0px'\r\n                // paddingTop: '60px'\r\n            });\r\n\r\n            $(\".estimate\").scroll(function() {\r\n                var element = $(this);\r\n                if (element.scrollTop() + element.innerHeight() >= element[0].scrollHeight) {\r\n                    $('.estimate').css({\r\n                        overflowY: 'hidden',\r\n                        top: '0px'\r\n                    });\r\n                    $('.open-table').text('Раскрыть смету');\r\n\r\n                    const sectionSlides = document.querySelectorAll('section.slide:not(.benten)');\r\n\r\n                    for (let i = 0; i < sectionSlides.length; i++) {\r\n                        // sectionSlides[i].style.paddingTop = parseInt(getComputedStyle(sectionSlides[i]).paddingTop) + 60 + 'px';\r\n                        sectionSlides[i].style.top = '60px';\r\n                    }\r\n\r\n                    $('.smeta-item-head input').on('click', function(event) {\r\n                        event.stopPropagation();\r\n                        let end = $(this).val().length;\r\n                        $(this).get(0).setSelectionRange(end, end);\r\n                        $(this).focus();\r\n                        var parentElement = event.target.closest('.smeta-item-head');\r\n\r\n                        if (!parentElement.classList.contains('active')) {\r\n                            parentElement.click();\r\n                            let end = $(this).val().length;\r\n                            $(this).get(0).setSelectionRange(end, end);\r\n                            $(this).focus();\r\n                            document.querySelector('.estimate').style.top = '0px';\r\n                        }\r\n                        document.querySelector('.estimate').style.top = '0px';\r\n                        // for (let i = 0; i < sectionSlides.length; i++) {\r\n                        //     sectionSlides[i].style.paddingTop = parseInt(getComputedStyle(sectionSlides[i]).paddingTop) - 60 + 'px';\r\n                        // }\r\n                    });\r\n\r\n\r\n\r\n                    $(document).on(\"wheel\", wheely);\r\n                    $(document).on(\"keydown\", hotkeys);\r\n                    $(document).on(\"touchstart mousedown\", dragStart);\r\n                    $(document).on(\"touchend mouseup\", dragEnd);\r\n\r\n                    $('.options').slideUp(500);\r\n                    $('.smeta-item-head').removeClass('active');\r\n                    document.querySelector('.estimate').style.top = '0';\r\n                    opened = 1;\r\n\r\n                    console.log('its working');\r\n                }\r\n            });\r\n\r\n        } else {\r\n            // Действия при открытии элемента\r\n            console.log(\"open\")\r\n            $(this).addClass('active');\r\n            $($input).focus();\r\n            document.querySelector('.estimate').style.top = '0';\r\n        }\r\n    }\r\n\r\n    if (!isExpanded) {\r\n        $(\".estimate\").off(\"scroll\");\r\n        $(document).on(\"wheel\", wheely);\r\n        $(document).on(\"keydown\", hotkeys);\r\n        $(document).on(\"touchstart mousedown\", dragStart);\r\n        $(document).on(\"touchend mouseup\", dragEnd);\r\n        document.querySelector('.estimate').style.top = '0px';\r\n    }\r\n});\r\n\r\n// Добавьте обработчик события click на input, чтобы предотвратить его распространение\r\n$(document).on('click', '.smeta-item-head input', function(event) {\r\n    var parentElement = event.target.closest('.smeta-item-head');\r\n\r\n    if (!parentElement.classList.contains('active')) {\r\n        parentElement.click();\r\n        let end = $(this).val().length;\r\n        $(this).get(0).setSelectionRange(end, end);\r\n        $(this).focus();\r\n        document.querySelector('.estimate').style.top = '60px';\r\n    }\r\n});\r\n\r\n$(document).on('click', '.open-table', function() {\r\n    if ($(this).hasClass('active')) {\r\n        $(this).removeClass('active');\r\n        $(this).text('Раскрыть смету');\r\n        $('.options').slideUp(500);\r\n        $('.smeta-item-head').removeClass('active');\r\n        document.querySelector('.smeta-item-head:first-child').click();\r\n        document.querySelector('.smeta-item-head:first-child').click();\r\n        document.querySelector('.estimate').style.top = '60px';\r\n\r\n    } else {\r\n        $(this).addClass('active');\r\n        $(this).text('Закрыть смету');\r\n        $('.smeta-item-head').addClass('active');\r\n        $('.options').slideDown(500);\r\n        document.querySelector('.estimate').style.top = '60px';\r\n    }\r\n    // opened = 1;\r\n});\r\n","let fileInput = document.querySelector(\"[data-upload-id='file-input']\")\r\n\r\nif(fileInput){\r\n    console.log(fileInput)\r\n    const upload = new FileUploadWithPreview.FileUploadWithPreview('file-input');\r\n\r\n    upload.options.multiple = true\r\n\r\n    $(document).on('change', '.input-container input', function(e) {\r\n        $(this).parents(\".file-input\").addClass(\"_uploaded\")\r\n    })\r\n\r\n    $(document).on('click', '.image-preview-item-clear', function(e) {\r\n        let count = $(this).parents(\".file-input\").find(\".image-preview-item\").length\r\n        if(count === 1){\r\n            $(this).parents(\".file-input\").removeClass(\"_uploaded\")\r\n        }\r\n    })\r\n}\r\n\r\n\r\n","let body = document.querySelector(\"body\")\nlet modalTogglers = document.querySelectorAll(\"[data-modal]\")\nlet modals = document.querySelectorAll(\".modal\")\n\nmodalTogglers.forEach(el => {\n    el.onclick = function () {\n        let modalId = el.getAttribute(\"data-modal\")\n        openModal(modalId)\n    }\n})\n\nfunction closeModals() {\n    modals.forEach(modal => {\n        modal.classList.remove(\"_active\")\n        body.classList.remove(\"fixed-body2\")\n    })\n}\n\nfunction openModal(modalId) {\n    closeModals()\n    let modal = document.querySelector(`#${modalId}`)\n    let closeButtons = modal.querySelectorAll(`._close-modal`)\n\n    modal.classList.add(\"_active\")\n    body.classList.add(\"fixed-body2\")\n\n\n    closeButtons.forEach(btn => {\n        btn.onclick = ()=> {\n            modal.classList.remove(\"_active\")\n            body.classList.remove(\"fixed-body2\")\n        }\n    })\n}\n\nvar getScrollBarSize = (function() {\n    var el = window.document.createElement('textarea'), style = {\n        'visibility': 'hidden', 'position': 'absolute', 'zIndex': '-2147483647',\n        'top': '-1000px', 'left': '-1000px', 'width': '1000px', 'height': '1000px',\n        'overflow': 'scroll', 'margin': '0', 'border': '0', 'padding': '0'\n    }, support = el.clientWidth !== undefined && el.offsetWidth !== undefined;\n\n    for (var key in style) {\n        if (style.hasOwnProperty(key)) {\n            el.style[key] = style[key];\n        }\n    }\n\n    return function() {\n        var size = null;\n        if (support && window.document.body) {\n            window.document.body.appendChild(el);\n            size = [el.offsetWidth - el.clientWidth, el.offsetHeight - el.clientHeight];\n            window.document.body.removeChild(el);\n        }\n\n        document.documentElement.style.setProperty('--scrollWidth', `${size[0]}px`);\n        return size;\n    };\n})();\n\n$(\"._cookie-close\").click(function () {\n    $(\".cookie-modal\").removeClass(\"_active\")\n})\n","function setBg() {\r\n    $(\"[data-bg]\").each(function (i,el) {\r\n        let bgDesktop = $(el).attr(\"data-bg\")\r\n        let bgMob = $(el).attr(\"data-bg-mob\")\r\n\r\n        console.log(bgDesktop)\r\n        console.log(bgMob)\r\n\r\n        if(window.innerWidth>992){\r\n            $(el).css(\r\n                \"background-image\", `url(${bgDesktop})`\r\n            )\r\n        } else{\r\n            $(el).css(\r\n                \"background-image\", `url(${bgMob})`\r\n            )\r\n        }\r\n    })\r\n}\r\n\r\nsetBg()\r\nwindow.addEventListener('resize', () => {\r\n    setBg()\r\n})\r\n","let last_scroll = 0;\r\n\r\n$(window).scroll(function(){\r\n    if(window.innerWidth<=992){\r\n        let productItems = document.querySelectorAll('.product-item');\r\n        productItems.forEach((productItem) => {\r\n            let blockHeight = productItem.getBoundingClientRect().height\r\n            let windowHeight = window.innerHeight\r\n            let id = productItem.getAttribute('data-id');\r\n            console.log(windowHeight)\r\n            console.log(id,productItem.getBoundingClientRect())\r\n\r\n            if(productItem.getBoundingClientRect().y>=0 && productItem.getBoundingClientRect().y<window.innerHeight* .7){\r\n                document.querySelector(`.product-nav._mob [data-id=\"${id}\"]`).classList.add('_active')\r\n            } else{\r\n                document.querySelector(`.product-nav._mob [data-id=\"${id}\"]`).classList.remove('_active')\r\n            }\r\n        })\r\n        $(\".product-item\").each(function(){\r\n\r\n        })\r\n    }\r\n    if(window.scrollY > last_scroll){\r\n        $(\".sidebar\").addClass(\"_hide\");\r\n    } else{\r\n        $(\".sidebar\").removeClass(\"_hide\");\r\n    }\r\n    last_scroll = window.scrollY;\r\n});\r\n\r\n$(\".product-nav__item\").click(function (e) {\r\n    let id = +$(this).attr(\"data-id\")\r\n    if(window.innerWidth>992){\r\n        e.preventDefault()\r\n        slideTo(id);\r\n        $(\".product-nav__item\").removeClass(\"_active\");\r\n        $(this).addClass(\"_active\");\r\n    } else{\r\n        console.log(id)\r\n        $('html,body').animate({\r\n            scrollTop: $(`.product-item[data-id=\"${id}\"]`).offset().top\r\n        });\r\n    }\r\n})\r\n\r\nfunction setActiveTab() {\r\n    let currentSlideId = +$(\".parallax-active\").attr(\"data-id\")\r\n    $(\".product-nav__item\").removeClass(\"_active\");\r\n    $(`.product-nav__item[data-id=\"${currentSlideId}\"]`).addClass(\"_active\");\r\n}\r\n\r\nfunction slideTo(nextSlideId) {\r\n    let currentSlideId = +$(\".parallax-active\").attr(\"data-id\")\r\n    let moveCount = nextSlideId - currentSlideId;\r\n\r\n\r\n    if(moveCount > 0) {\r\n        for (let i = 0; i < moveCount; i++) {\r\n            nextSlide()\r\n        }\r\n    } else{\r\n        for (let i = 0; i < (moveCount * -1); i++) {\r\n            prevSlide()\r\n        }\r\n    }\r\n\r\n\r\n\r\n    // $(\".parallax-active\").removeClass(\"parallax-active\")\r\n    // $(\".parallax-active\").addClass(\"prev\")\r\n    // $(slide).addClass(\"parallax-active\")\r\n    // $(slide).prev().addClass(\"prev\")\r\n    // $(slide).next().addClass(\"queue\")\r\n}","window.addEventListener('DOMContentLoaded', () => {\r\n    fix100vh();\r\n    window.addEventListener('resize', () => {\r\n        fix100vh();\r\n        getScrollBarSize()\r\n    })\r\n\r\n    getScrollBarSize()\r\n\r\n    $('input[type=\"tel\"]').mask('+7 (999) 999-99-99', { autoclear: false }, { placeholder: '+7 (   )    -  -  ' });\r\n\r\n    let localeRu = {\r\n        days: ['Воскресенье', 'Понедельник', 'Вторник', 'Среда', 'Четверг', 'Пятница', 'Суббота'],\r\n        daysShort: ['Вос', 'Пон', 'Вто', 'Сре', 'Чет', 'Пят', 'Суб'],\r\n        daysMin: ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'],\r\n        months: ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'],\r\n        monthsShort: ['Янв', 'Фев', 'Мар', 'Апр', 'Май', 'Июн', 'Июл', 'Авг', 'Сен', 'Окт', 'Ноя', 'Дек'],\r\n        today: 'Сегодня',\r\n        clear: 'Очистить',\r\n        dateFormat: 'dd.MM.yyyy',\r\n        timeFormat: 'HH:mm',\r\n        firstDay: 1\r\n    };\r\n\r\n    let localeEn = {\r\n        days: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\r\n        daysShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\r\n        daysMin: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\r\n        months: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\r\n        monthsShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\r\n        today: 'Today',\r\n        clear: 'Clear',\r\n        dateFormat: 'dd.MM.yyyy',\r\n        timeFormat: 'HH:mm',\r\n        firstDay: 1\r\n    };\r\n\r\n    /**\r\n     * https://stackoverflow.com/questions/2945113/how-to-create-a-new-date-in-javascript-from-a-non-standard-date-format\r\n     * @param input\r\n     * @returns {Date}\r\n     */\r\n    function parseDate(input) {\r\n        if(!input){\r\n            return '';\r\n        }\r\n        const parts = input.match(/(\\d+)/g);\r\n        return new Date(parts[2], parts[1]-1, parts[0]);\r\n    }\r\n\r\n    let dateInputs = document.querySelectorAll('.date-input input')\r\n    dateInputs.forEach(el => {\r\n        let locale = el.getAttribute('data-locale') || 'ru';\r\n        new AirDatepicker(el, {\r\n            locale: locale === 'ru' ? localeRu : localeEn,\r\n            autoClose: true,\r\n            toggleSelected: false,\r\n            minDate: '',\r\n            maxDate: parseDate(el.getAttribute('data-max-date')),\r\n            selectedDates: [parseDate(el.value)],\r\n            onSelect: () => {\r\n\r\n            }\r\n        })\r\n    })\r\n})\r\n\r\nfunction fix100vh() {\r\n    let vh = window.innerHeight * 0.01;\r\n    document.documentElement.style.setProperty('--vh', `${vh}px`);\r\n}\r\n\r\n$(\".quiz-card2 input\").change(function () {\r\n    let checkedCount = $(\".quiz-card2 input:checked\").length\r\n    let btn = $(this).parents(\".quiz\").find(\".quiz-content__btn\")\r\n\r\n    if(checkedCount>0){\r\n        $(btn).prop(\"disabled\",false)\r\n    }else{\r\n        $(btn).prop(\"disabled\",true)\r\n    }\r\n})\r\n\r\n$(\".quiz-card input\").change(function () {\r\n    let checkedCount = $(\".quiz-card input:checked\").length\r\n    let btn = $(this).parents(\".quiz\").find(\".quiz-content__btn\")\r\n\r\n    if(checkedCount>0){\r\n        $(btn).prop(\"disabled\",false)\r\n    }else{\r\n        $(btn).prop(\"disabled\",true)\r\n    }\r\n})\r\n\r\n$(\".channel-card2\").click(function () {\r\n    let videoSrc = $(this).attr(\"data-video\")\r\n\r\n    let video = document.querySelector(\".recommendation__video video\")\r\n    video.setAttribute(\"src\",videoSrc)\r\n    video.addEventListener('click',function(){\r\n        video.play();\r\n    },false);\r\n    video.click();\r\n\r\n    console.log(video)\r\n})\r\n\r\n$(\".file-input input\").change(function (e) {\r\n    let parent = $(this).parents(\".file-input\")\r\n    const [file] = e.target.files\r\n    let fileName = file.name\r\n    $(parent).find(\".file-input__output span\").html(fileName)\r\n})\r\n\r\n$(\".qa-card__show\").click(function () {\r\n    let parent = $(this).parents(\".qa-card\")\r\n\r\n    if($(parent).hasClass(\"_open\")){\r\n        $(\".qa-card\").removeClass(\"_open\")\r\n        $(\".qa-card__hidden\").slideUp()\r\n    } else{\r\n        $(\".qa-card\").removeClass(\"_open\")\r\n        $(\".qa-card__hidden\").slideUp()\r\n        $(parent).addClass(\"_open\")\r\n        $(parent).find(\".qa-card__hidden\").slideDown()\r\n    }\r\n})\r\n\r\n"]}